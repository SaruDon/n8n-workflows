{
  "name": "BhagwatGeeta",
  "nodes": [
    {
      "parameters": {
        "textSplittingMode": "custom",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        448,
        192
      ],
      "id": "6e7de6b8-42d3-4205-bec3-60fc5d40de12",
      "name": "Default Data Loader"
    },
    {
      "parameters": {
        "operation": "fromJson",
        "options": {}
      },
      "type": "n8n-nodes-base.extractFromFile",
      "typeVersion": 1.1,
      "position": [
        80,
        -16
      ],
      "id": "117075b5-ee8b-47c2-bf62-bbe6ed8b36b4",
      "name": "Extract from File"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.textSplitterCharacterTextSplitter",
      "typeVersion": 1,
      "position": [
        544,
        400
      ],
      "id": "bd4eab5b-cc15-416c-bb45-8058a8485d4a",
      "name": "Character Text Splitter"
    },
    {
      "parameters": {
        "model": "nomic-embed-text:latest"
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOllama",
      "typeVersion": 1,
      "position": [
        272,
        192
      ],
      "id": "232e413d-0376-4fd3-b6d4-c5364d40a4e3",
      "name": "Embeddings Ollama",
      "credentials": {
        "ollamaApi": {
          "id": "npFXtWEa4NYIP0qp",
          "name": "Ollama account 2"
        }
      }
    },
    {
      "parameters": {
        "availableInChat": true,
        "agentName": "Geeta Guider",
        "agentDescription": "You are an agent who solves problems guided by the teachings of the Bhagavad Gita—acting with wisdom, clarity, and selfless intention.",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        1040,
        -16
      ],
      "id": "c3f1f38c-f7a3-4ce8-85eb-48e4b7d1c2ba",
      "name": "When chat message received",
      "webhookId": "7e2b008d-27a9-4d59-8e7d-a2dd2991629e"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "System Message:\n\nYou are an AI assistant that solves user problems using the wisdom of the Bhagavad Gita.\n\nFor every user query, you must:\n\nRetrieve the most relevant verse(s) from the Gita related to the user's problem.\n\nPresent the verse clearly (with chapter and verse number).\n\nExplain the meaning of the verse in simple, easy-to-understand language.\n\nRelate the verse directly to the user's real-life problem.\n\nProvide a step-by-step practical solution inspired by the verse.\n\nKeep the tone calm, supportive, and encouraging.\n\nAvoid complex spiritual jargon.\n\nFocus on actionable guidance.\n\nResponse Format:\n\nVerse from the Gita:\n\"Verse text\" (Chapter X, Verse Y)\n\nSimple Meaning:\nBrief, easy explanation of the verse.\n\nConnection to Your Problem:\nExplain how this verse relates to the user’s situation.\n\nStep-by-Step Solution:\n\nStep one\n\nStep two\n\nStep three\n\n(Optional) Final reflection"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        1216,
        -16
      ],
      "id": "abd006a0-8908-4494-bae6-7000e77a282f",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        1088,
        192
      ],
      "id": "58b34491-2a65-47f8-bfff-a220e60452c0",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "KHSGkCcdf2Bj1sxC",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "You must query the Pinecone vector database to retrieve relevant Bhagavad Gita teachings stored in the vector store. Use the retrieved content to answer user problems by mapping their situation to appropriate Gita lessons and providing clear, practical guidance.",
        "pineconeIndex": {
          "__rl": true,
          "value": "bhagwat-geeta",
          "mode": "list",
          "cachedResultName": "bhagwat-geeta"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        1296,
        224
      ],
      "id": "73a521fe-df0f-4233-9a85-716dcb94c0c3",
      "name": "Pinecone Vector Store1",
      "credentials": {
        "pineconeApi": {
          "id": "RkzR6cNsRJtO4Xjl",
          "name": "PineconeApi account rag-pipeline demo"
        }
      }
    },
    {
      "parameters": {
        "model": "nomic-embed-text:latest"
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOllama",
      "typeVersion": 1,
      "position": [
        1440,
        480
      ],
      "id": "422ebd95-dc2b-4198-96ad-50be089929fe",
      "name": "Embeddings Ollama2",
      "credentials": {
        "ollamaApi": {
          "id": "npFXtWEa4NYIP0qp",
          "name": "Ollama account 2"
        }
      }
    },
    {
      "parameters": {
        "pollTimes": {
          "item": [
            {
              "mode": "everyMinute"
            }
          ]
        },
        "triggerOn": "specificFile",
        "fileToWatch": {
          "__rl": true,
          "value": "1iE8x3tec9IoFBX49-dwrWxXgwzEmhNOr",
          "mode": "list",
          "cachedResultName": "geeta_verses.json",
          "cachedResultUrl": "https://drive.google.com/file/d/1iE8x3tec9IoFBX49-dwrWxXgwzEmhNOr/view?usp=drivesdk"
        }
      },
      "type": "n8n-nodes-base.googleDriveTrigger",
      "typeVersion": 1,
      "position": [
        -336,
        -16
      ],
      "id": "5b4b8438-20ca-4917-88e5-8a423991e5e8",
      "name": "Bhagavad Gita Stroed",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "wBOVtzeXNyjCKJxd",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "1iE8x3tec9IoFBX49-dwrWxXgwzEmhNOr",
          "mode": "list",
          "cachedResultName": "geeta_verses.json",
          "cachedResultUrl": "https://drive.google.com/file/d/1iE8x3tec9IoFBX49-dwrWxXgwzEmhNOr/view?usp=drivesdk"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -128,
        -16
      ],
      "id": "7fa9c606-3563-4972-9918-8d93bebf420e",
      "name": "Download Stored Bhagavad Gita",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "wBOVtzeXNyjCKJxd",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "mode": "insert",
        "pineconeIndex": {
          "__rl": true,
          "value": "bhagwat-geeta",
          "mode": "list",
          "cachedResultName": "bhagwat-geeta"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        352,
        -16
      ],
      "id": "f004c3f5-2300-4913-8109-6e98bc1cc0d0",
      "name": "Store Geeta in vector DB",
      "credentials": {
        "pineconeApi": {
          "id": "cpmmxx6mgu9wtUx6",
          "name": "PineconeApi account 3"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "Store Geeta in vector DB",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "Extract from File": {
      "main": [
        [
          {
            "node": "Store Geeta in vector DB",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Character Text Splitter": {
      "ai_textSplitter": [
        [
          {
            "node": "Default Data Loader",
            "type": "ai_textSplitter",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Ollama": {
      "ai_embedding": [
        [
          {
            "node": "Store Geeta in vector DB",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Ollama2": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Bhagavad Gita Stroed": {
      "main": [
        [
          {
            "node": "Download Stored Bhagavad Gita",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download Stored Bhagavad Gita": {
      "main": [
        [
          {
            "node": "Extract from File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "dad8864d-c285-4804-98cb-1f056252ecde",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "115aa243dddf640fd4a978b11018788dfb4b6517309b6cc6432ed3ca6ca27149"
  },
  "id": "zPYFG6t5PH2CPk9PGrbVZ",
  "tags": []
}